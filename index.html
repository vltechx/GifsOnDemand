<html>
<head>
<style>
div.gallery {
  margin: 50px;
  border: 1px solid #ccc;
  float: left;
  width: 180px;
}

div.gallery:hover {
  border: 1px solid #777;
}

div.gallery img {
  width: 100%;
  height: auto;
}

div.desc {
  padding: 15px;
  text-align: center;
}
</style>
</head>
<body>

    <h1>Welcome to GIFs on demand</h1>

    <form name="gallery" id="gallery" method="post" action="" id="FORM_ID">
        <p>
            Please select a subject to load related GIFS at specified refresh rate.
            <br><br>
            <label for="things">Subject</label>
            <select name="things" id="things" onchange="ThingItemUpdate(this.value)">
                <option value="cat">Cats</option>
                <option value="dog">Dogs</option>
                <option value="food">Food</option>
                <option value="flower">Flowers</option>
            </select>
    </p>
    <label for="refresh_rate">Refresh rate</label>
    <input name="refresh_rate" id="refresh_rate" onchange="updateRefreshRate(this.value)">
    </form>
    
    <script type="text/javascript">

    var things = ["cat", "dog", "food", "flower"];
    var refresh_rate = 2;

    Refresh();

    function updateRefreshRate(rate) 
    {
        if(rate <= 0)
            rate = 2;        
        refresh_rate = rate;
        console.log("Refresh rate is updated to " + refresh_rate);
    }

    function Refresh()
    {
        var selThing = document.getElementById('things').value;
        console.log("OnRefresh " + selThing + " rate is " + refresh_rate);
        setTimeout(Refresh, refresh_rate * 1000);
        changeImage(selThing);
    }

    function ThingItemUpdate(thing)
    {
        selThing = thing;
        console.log("On change thing " + selThing);
        changeImage(selThing);
    }

    function getRandomImageName(selTopic)
    {
        var random = Math.floor(Math.random() * 4) + 1; // returns a random integer from 1 to 4
        return selTopic + "-image-" + random + ".gif";
    }
  
    function changeImage(selTopic)
    {
        var eImage = document.getElementById("image1");
        if(eImage)
            eImage.setAttribute("src", getRandomImageName(selTopic));

        eImage = document.getElementById("image2");
        if(eImage)
            eImage.setAttribute("src", getRandomImageName(selTopic));
    }
    </script>


    <br><br>

    <div class="gallery">
        <a><img id="image1" src="cat-image-1.gif" border="1"
                alt="cat-image-1.gif" />
        </a>
    </div>
    <div class="gallery">
        <a><img id="image2" src="cat-image-2.gif" border="1"
                alt="cat-image-2.gif" />
        </a>
    </div>

    <p>
    <!-- <br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br> -->

    <form action="https://formspree.io/f/{form_id}" method="post">
        <label for="email">Your Email</label>
        <input name="Email" id="email" type="email">
        <button type="submit">Submit</button>
    </form>
    </p>
    
</body>
</html>
